/* 确保ReactFlow节点正确渲染的全局样式 */

.react-flow__node {
  visibility: visible !important;
  display: block !important;
  opacity: 1 !important;
  z-index: 10 !important;
}

.react-flow__node.selected {
  z-index: 100 !important;
}

/* 连接点样式 */
.react-flow__handle {
  width: 10px !important;
  height: 10px !important;
  background-color: var(--handle-bg, #555) !important;
  border: 2px solid var(--handle-border, #888) !important;
  visibility: visible !important;
  opacity: 1 !important;
  z-index: 1000 !important;
  cursor: crosshair !important;
  pointer-events: all !important;
}

.react-flow__handle:hover {
  background-color: var(--handle-hover-bg, #777) !important;
  border-color: var(--handle-hover-border, #aaa) !important;
  transform: scale(1.2) !important;
}

.react-flow__handle-left {
  left: -6px !important;
}

.react-flow__handle-right {
  right: -6px !important;
}

/* 节点和连接线层级关系 */
.react-flow__edges {
  z-index: 2 !important;
}

.react-flow__node {
  z-index: 3 !important;
}

.react-flow__viewport {
  z-index: 1 !important;
}

/* 动画效果 */
@keyframes pulse {
  0% { box-shadow: 0 0 0 0 rgba(16, 163, 127, 0.5); }
  70% { box-shadow: 0 0 0 8px rgba(16, 163, 127, 0); }
  100% { box-shadow: 0 0 0 0 rgba(16, 163, 127, 0); }
}

/* 运行状态 */
.react-flow__node.running {
  animation: pulse 2s infinite;
}

/* 确保连接线样式 */
.react-flow__edge-path {
  stroke: var(--connection-color, #999) !important;
  stroke-width: 2px !important;
}

.react-flow__edge.selected .react-flow__edge-path {
  stroke: var(--primary-color, #10a37f) !important;
  stroke-width: 3px !important;
}

/* 确保React Flow背景正确渲染 */
.react-flow__background {
  z-index: 0 !important;
}